{
    "name": "calculateRating",
    "description": "Calculate a PD rating",
    "strict": false,
    "parameters": {
      "type": "object",
      "properties": {
        "impairmentCode": {
          "type": "string",
          "description": "The impairment code (e.g., '3.01')"
        },
        "wpi": {
          "type": "number",
          "description": "Whole Person Impairment percentage (0-100)"
        },
        "occupation": {
          "type": "string",
          "description": "The worker's occupation"
        },
        "age": {
          "type": "number",
          "description": "The worker's age (16-100)"
        }
      },
      "required": [
        "impairmentCode",
        "wpi",
        "occupation",
        "age"
      ]
    }
  }

  {
    "name": "extract_medical_info",
    "description": "Extract key information from medical reports for permanent disability ratings",
    "strict": true,
    "parameters": {
      "type": "object",
      "required": [
        "name",
        "date_of_birth",
        "occupation",
        "date_of_injury",
        "body_parts",
        "medical_provider",
        "claim_number"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "Patient's name"
        },
        "date_of_birth": {
          "type": "string",
          "description": "Patient's date of birth"
        },
        "occupation": {
          "type": "string",
          "description": "Patient's occupation"
        },
        "date_of_injury": {
          "type": "string",
          "description": "Date of injury"
        },
        "body_parts": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "part",
              "wpi_percentage",
              "apportionment"
            ],
            "properties": {
              "part": {
                "type": "string",
                "description": "Body part affected"
              },
              "wpi_percentage": {
                "type": "number",
                "description": "Whole Person Impairment percentage"
              },
              "apportionment": {
                "type": "string",
                "description": "Any apportionment mentioned"
              }
            },
            "additionalProperties": false
          }
        },
        "medical_provider": {
          "type": "string",
          "description": "Name of medical provider"
        },
        "claim_number": {
          "type": "string",
          "description": "Claim number"
        }
      },
      "additionalProperties": false
    }
  }

  {
    "name": "determine_occupation_group",
    "description": "Determine occupation group number and variant based on job duties",
    "strict": true,
    "parameters": {
      "type": "object",
      "required": [
        "occupation",
        "body_parts",
        "group_number"
      ],
      "properties": {
        "occupation": {
          "type": "string",
          "description": "Patient's occupation"
        },
        "body_parts": {
          "type": "array",
          "description": "List of body parts affected along with their occupational variants",
          "items": {
            "type": "object",
            "required": [
              "part",
              "variant"
            ],
            "properties": {
              "part": {
                "type": "string",
                "description": "Body part affected"
              },
              "variant": {
                "type": "string",
                "description": "Occupational variant code"
              }
            },
            "additionalProperties": false
          }
        },
        "group_number": {
          "type": "string",
          "description": "Occupation group number"
        }
      },
      "additionalProperties": false
    }
  }

  {
    "name": "calculate_rating",
    "description": "Calculate permanent disability rating using standard formula",
    "strict": true,
    "parameters": {
      "type": "object",
      "required": [
        "impairments",
        "combined_rating",
        "combination_steps"
      ],
      "properties": {
        "impairments": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "code",
              "wpi",
              "fec_adjusted",
              "occupation_adjusted",
              "age_adjusted",
              "description"
            ],
            "properties": {
              "code": {
                "type": "string",
                "description": "Impairment code (XX.XX.XX.XX format)"
              },
              "wpi": {
                "type": "number",
                "description": "Initial WPI percentage"
              },
              "fec_adjusted": {
                "type": "number",
                "description": "FEC adjusted value (WPI Ã— 1.4)"
              },
              "occupation_adjusted": {
                "type": "number",
                "description": "Value after occupation adjustment"
              },
              "age_adjusted": {
                "type": "number",
                "description": "Final value after age adjustment"
              },
              "description": {
                "type": "string",
                "description": "Description of the impairment"
              }
            },
            "additionalProperties": false
          }
        },
        "combined_rating": {
          "type": "number",
          "description": "Final combined rating percentage"
        },
        "combination_steps": {
          "type": "array",
          "items": {
            "type": "string",
            "description": "Step by step combination calculations"
          }
        }
      },
      "additionalProperties": false
    }
  }

  {
    "name": "format_rating_string",
    "description": "Format the final rating string with all components",
    "strict": true,
    "parameters": {
      "type": "object",
      "required": [
        "name",
        "claim_number",
        "employer",
        "ratings",
        "combined_rating",
        "pd_weeks",
        "age_doi",
        "weekly_earnings",
        "pd_rate",
        "pd_total",
        "future_medical"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "Patient's name"
        },
        "claim_number": {
          "type": "string",
          "description": "Claim number"
        },
        "employer": {
          "type": "string",
          "description": "Employer name"
        },
        "ratings": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "code",
              "wpi",
              "fec",
              "group_variant",
              "adjusted",
              "final",
              "description"
            ],
            "properties": {
              "code": {
                "type": "string",
                "description": "Impairment code"
              },
              "wpi": {
                "type": "number",
                "description": "WPI value"
              },
              "fec": {
                "type": "string",
                "description": "FEC adjustment"
              },
              "group_variant": {
                "type": "string",
                "description": "Occupation group and variant"
              },
              "adjusted": {
                "type": "number",
                "description": "Adjusted value"
              },
              "final": {
                "type": "number",
                "description": "Final percentage"
              },
              "description": {
                "type": "string",
                "description": "Description of rating"
              }
            },
            "additionalProperties": false
          }
        },
        "combined_rating": {
          "type": "number",
          "description": "Final combined rating percentage"
        },
        "pd_weeks": {
          "type": "number",
          "description": "Total weeks of permanent disability"
        },
        "age_doi": {
          "type": "number",
          "description": "Age at date of injury"
        },
        "weekly_earnings": {
          "type": "number",
          "description": "Average weekly earnings"
        },
        "pd_rate": {
          "type": "number",
          "description": "PD weekly rate"
        },
        "pd_total": {
          "type": "number",
          "description": "Total PD payout"
        },
        "future_medical": {
          "type": "array",
          "items": {
            "type": "object",
            "required": [
              "specialty",
              "cost"
            ],
            "properties": {
              "specialty": {
                "type": "string",
                "description": "Medical specialty"
              },
              "cost": {
                "type": "number",
                "description": "Estimated cost"
              }
            },
            "additionalProperties": false
          }
        }
      },
      "additionalProperties": false
    }
  }

  {
    "name": "search_vector_store",
    "description": "Search vector store for JSON files representing occupational tables and age adjustment tables to assist in making calculations.",
    "strict": true,
    "parameters": {
      "type": "object",
      "required": [
        "file_types",
        "query",
        "limit"
      ],
      "properties": {
        "file_types": {
          "type": "array",
          "description": "List of file types to search for",
          "items": {
            "type": "string",
            "description": "Type of file, e.g., 'occupational_table' or 'age_adjustment_table'"
          }
        },
        "query": {
          "type": "string",
          "description": "Search query to find relevant tables"
        },
        "limit": {
          "type": "number",
          "description": "Maximum number of results to return"
        }
      },
      "additionalProperties": false
    }
  }

  {
    "name": "search_adjusted_age",
    "description": "Code interpreter to search for the adjusted age in the age_adjustment.JSON file",
    "strict": true,
    "parameters": {
      "type": "object",
      "required": [
        "name",
        "age",
        "adjusted_age"
      ],
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the individual whose adjusted age is to be searched"
        },
        "age": {
          "type": "number",
          "description": "The current age of the individual"
        },
        "adjusted_age": {
          "type": "number",
          "description": "The adjusted age retrieved from the JSON file"
        }
      },
      "additionalProperties": false
    }
  }